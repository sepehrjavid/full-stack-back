{"version":3,"sources":["services/persons.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","removePerson","person_id","setPersons","persons","setSearchResult","window","confirm","axios","delete","remove","then","response","new_persons","filter","person","id","Persons","searchResult","map","index","name","number","onClick","PersonForm","addContact","newName","newNameChange","numberChange","onSubmit","value","onChange","type","Filter","search","searchField","searchFieldChange","Notification","message","notifClassName","className","App","useState","setNewName","setNumber","setSearchField","setMessage","setNotifClassName","useEffect","get","data","event","preventDefault","match","target","new_number","new_person","includes","updatingPerson","patch","newPersons","p","setTimeout","catch","err","post","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6f9a0c02.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    return axios.get(baseUrl);\n};\n\nconst create = (person) => {\n    return axios.post(baseUrl, person)\n};\n\nconst remove = (person_id) => {\n    return axios.delete(baseUrl + \"/\" + person_id)\n};\n\nconst update = (person_id, new_number) => {\n    return axios.patch(baseUrl + \"/\" + person_id, {number: new_number})\n};\n\nexport {\n    getAll,\n    create,\n    remove,\n    update\n}\n","import React from 'react'\nimport {remove} from \"../services/persons\";\n\nconst removePerson = (person_id, setPersons, persons, setSearchResult) => {\n    if (window.confirm(\"Confirm delete?\")) {\n        remove(person_id).then((response) => {\n            let new_persons = persons.filter((person) => person.id !== person_id);\n            setPersons(new_persons);\n            setSearchResult([...new_persons])\n        })\n    }\n};\n\n\nconst Persons = ({searchResult, persons, setPersons, setSearchResult}) => {\n\n    return (\n        <div>\n            {\n                searchResult.map((person, index) =>\n                    <div key={index}>\n                        <p>{person.name}: {person.number}</p>\n                        <button onClick={() => removePerson(person.id, setPersons, persons, setSearchResult)}>Delete</button>\n                    </div>\n                )\n            }\n        </div>\n    )\n};\n\nexport default Persons\n","import React from 'react'\n\nconst PersonForm = ({addContact, newName, newNameChange, number, numberChange}) => {\n    return (\n        <div>\n            <form onSubmit={addContact}>\n                <div>\n                    name: <input value={newName} onChange={newNameChange}/>\n                </div>\n                <div>\n                    number: <input value={number} onChange={numberChange}/>\n                </div>\n                <div>\n                    <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </div>\n    )\n};\n\nexport default PersonForm\n","import React from 'react'\n\nconst Filter = ({search, searchField, searchFieldChange}) => {\n    return (\n        <div>\n            <form onSubmit={search}>\n                <div>\n                    Filter shown with: <input value={searchField} onChange={searchFieldChange}/>\n                </div>\n            </form>\n        </div>\n    )\n};\n\nexport default Filter\n","import React from 'react'\n\nconst Notification = ({message, notifClassName}) => {\n\n    if (message === null) {\n        return null\n    }\n    return (\n        <div className={notifClassName}>\n            {message}\n        </div>\n    )\n};\n\nexport default Notification\n","import React, {useEffect, useState} from 'react'\nimport Persons from \"./components/Persons\";\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport {create, getAll, update} from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [searchResult, setSearchResult] = useState([]);\n    const [newName, setNewName] = useState('');\n    const [number, setNumber] = useState('');\n    const [searchField, setSearchField] = useState('');\n    const [message, setMessage] = useState(null);\n    const [notifClassName, setNotifClassName] = useState(\"error\");\n\n\n    useEffect(() => {\n        getAll().then((response) => {\n            setPersons(response.data);\n            setSearchResult(response.data);\n        });\n    }, []);\n\n\n    const addContact = (event) => {\n        event.preventDefault();\n        let new_person = {name: newName, number: number};\n        if (!persons.map((person) => person.name).includes(newName)) {\n            create(new_person).then((response) => {\n                let newPersons = persons.concat(response.data);\n                setPersons(newPersons);\n                setNewName('');\n                setNumber('');\n                setSearchResult([...newPersons]);\n                setMessage(`Contact added`);\n                setNotifClassName(\"message\");\n                setTimeout(() => {\n                    setMessage(null)\n                }, 5000)\n            })\n        } else {\n            let updatingPerson = persons.filter((person) => person.name === newName)[0];\n            update(updatingPerson.id, number).then((response) => {\n                let newPersons = persons.map(p =>\n                    p.name === new_person.name\n                        ? {...p, number: new_person.number}\n                        : p\n                );\n                setPersons(newPersons);\n                setNewName('');\n                setNumber('');\n                setSearchResult([...newPersons]);\n                setMessage(`Contact updated`);\n                setNotifClassName(\"message\");\n                setTimeout(() => {\n                    setMessage(null)\n                }, 5000)\n            }).catch((err) => {\n                setMessage(`Information of ${newName} has already been removed`);\n                setNotifClassName(\"error\");\n                setTimeout(() => {\n                    setMessage(null)\n                }, 5000)\n            })\n        }\n    };\n\n    const search = (event) => {\n        event.preventDefault();\n        if (searchField === '') {\n            setSearchResult(persons);\n        } else {\n            setSearchResult(persons.filter((person) => person.name.match(searchField)));\n            setSearchField('');\n        }\n    };\n\n    const newNameChange = (event) => {\n        setNewName(event.target.value);\n    };\n\n    const numberChange = (event) => {\n        setNumber(event.target.value);\n    };\n\n    const searchFieldChange = (event) => {\n        setSearchField(event.target.value);\n    };\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={message} notifClassName={notifClassName}/>\n            <Filter search={search} searchField={searchField} searchFieldChange={searchFieldChange}/>\n            <h2>Add New</h2>\n            <PersonForm addContact={addContact} newName={newName} newNameChange={newNameChange} number={number}\n                        numberChange={numberChange}/>\n            <h2>Numbers</h2>\n            <Persons searchResult={searchResult} persons={persons} setPersons={setPersons}\n                     setSearchResult={setSearchResult}/>\n        </div>\n    )\n};\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n"],"sourceRoot":""}